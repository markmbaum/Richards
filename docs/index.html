<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Richards: Richards</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Richards
   </div>
   <div id="projectbrief">Solving The Richards equation with temporally periodic surface boundary conditions</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="class_richards.html" title="the main model class">Richards</a> </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This is a model for solving the richards equation for unsaturated groundwater flow in one dimension. For background information on the equations used here, please see Chapter 7, Section 4 of <a href="https://margulis-group.github.io/teaching/">Margulis, S. "Introduction To Hydrology." Used as textbook in C&amp;EE 150 (2014).</a></p><ul>
<li>The model uses a nonuniform, finite-volume grid. The surface cell is the smallest, with larger cells at depth.</li>
<li>The particular ratio of cell depths can be controlled and a maximum cell depth can be set.</li>
<li>The model is set up to use a fully saturated bottom boundary and a top boundary that goes through cycles of full saturation and full dryness. The cycle is meant to simulate periodic wetting events and the amount of water that penetrates to the bottom boundary for different cycle properties and physical parameters.</li>
<li>There are three different <code>main</code> programs that generate three different executables.<ol type="1">
<li><code><a class="el" href="main_8cc.html">main.cc</a></code> is compiled into <code>richards.exe</code>, which integrates the model without any cycling. This program is most useful for testing. The <code>scripts/plot_out.py</code> program plots the results generated by theis program.</li>
<li><code><a class="el" href="main__periodic_8cc.html">main_periodic.cc</a></code> is compiled into <code>richards_periodic.exe</code>, which spins up the model with cyclical surface wetting, then integrates over a single cycle and writes results. The <code>scripts/plot_period.py</code> script is meant to plot the results of this program.</li>
<li><code><a class="el" href="main__periodic__batch_8cc.html">main_periodic_batch.cc</a></code> is compiled into <code>richards_periodic_batch.exe</code>, and this program is more involved. It sweeps over ranges of parameters, spinning up and integrating the model for all possible combinations of these parameters. It writes the results of a single cycle for all the combinations. Integrations are performed in parallel, on however many threads you have available. Some of the settins in the input settings file are overridden inside the program.</li>
</ol>
</li>
</ul>
<p>The first two programs require two input arguments at the command line:</p><ol type="1">
<li>the path of a settings file</li>
<li>the path of an output directory</li>
</ol>
<p>The third program requires three command line arguments:</p><ol type="1">
<li>the path of a settings file</li>
<li>the domain depth</li>
<li>the path of an output directory</li>
</ol>
<p>What is a settings file? An example should be included in the repository as <code>settings.txt</code>. This file is the means by which the model is configured. Each program reads and parses the file for information about how to set up the grid, physical parameters, integration settings, and output options. Browse that sample file for a complete list of the settings. The final section of that file, "tracker and output settings", controls which model variables are written to file as part of the model output.</p>
<p>To compile the model, edit the first four variables in the Makefile, then run <code>make</code>. The model runs on top of ODE solvers from <a href="https://github.com/wordsworthgroup/libode">libode</a>, which must be downloaded and compiled first.</p>
<p>After things are compiled, a quick test would consist of: </p><div class="fragment"><div class="line">./bin/richards_periodic.exe settings.txt out</div>
<div class="line">cd scripts</div>
<div class="line">python plot_period.py</div>
<div class="line">cd ..</div>
</div><!-- fragment --> </div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
